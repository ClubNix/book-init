\subsubsection{Quoi et pourquoi ?}

\paragraph{} Le terminal est un programme qui permet d'exécuter des commandes
sous forme de texte.

Les commandes permettent en une ligne de texte d'effectuer des
opérations qui peuvent s'avérer très longues avec l'interface graphique. Par
exemple, modifier les droits d'accès ou d'écriture à un fichier s'effectue en
une dizaine de clics avec l'interface graphique, alors que la commande
\texttt{chmod} avec les droits voulus et le nom du fichier le fait
instantanément.

\subsubsection{Ouvrir une console et s'en servir}

\paragraph{} Pour ouvrir une console de terminal, on peut:

\begin{itemize}
	\item chercher terminal dans la barre de recherche;
	\item avec le raccourci clavier disponible sur la plupart des
		environnements de bureau avec Ctrl + Alt + T.
\end{itemize}

Une première ligne apparaît, et est comme ceci:

\begin{itemize}
	\item \mintinline{console}{utilisateur@nom_du_pc:~$}
\end{itemize}

Tapez alors votre ligne de commande puis \textit{Enter} pour l'exécuter.\newline

Il existe de nombreux outils dans le terminal, que nous allons voir ici:

\paragraph{Arrêter une commande} Il est possible de lancer une commande puis de
l'arrêter manuellement sans attendre qu'elle se termine.

Par exemple, vous avez lancé une commande ping pour tester votre réseau. La
commande ping ne s'arrête que si on lui demande. On peut alors l'interrompre
avec le raccourci clavier suivant: \textit{Ctrl + C}. Attention cependant. Même
si sur la commande ping l'arrêt de la commande n'a pas d'impact, ce n'est pas
le cas pour toutes les commandes. \textbf{Ctrl + C est une façon relativement
brutale d'arrêter un programme.}

\paragraph{Copier-coller} Copier-coller une ligne de commande depuis un
terminal est possible, mais pas avec les raccourcis claviers classiques. En
effet, Ctrl + C est déjà un raccourci clavier du terminal. Il faut donc faire
\textit{Ctrl + Shift + C} pour copier une ligne et \textit{Ctrl + Shift + V}
pour coller. Vous pouvez aussi, pour les ordinateurs en disposant, sélectionner
la ligne et cliquer sur le clic du milieu (ou la molette de la souris) afin de
coller la ligne.

Il faut faire attention toutefois avec le copier coller depuis les forums. En
effet, si vous copiez collez une suite de commandes avec des retours à la ligne
comme par exemple:

\begin{itemize}
	\item \textit{ls}
	\item \textit{cd dossier}
	\item \textit{cat fichier}
\end{itemize}

Le terminal exécutera les deux premières commandes car elles sont séparées par
un retour à la ligne. Cela peut être très pratique mais aussi dangereux.

\subsubsection{L'auto-complétion}

Certaines lignes peuvent être longues à taper. Le terminal met à disposition une
touche permettant de compléter la fin de la commande et même parfois les
arguments de la commande. C'est la touche Tab. Après avoir tapé 3 lettres, vous
pouvez demander l'auto-complétion. C'est le cas par exemple pour un nom de
fichier très long ou de paquets. Il suffit alors de taper "cd début + Tab " et
le terminal finira à votre place. Lorsque plusieurs fichiers ont le même début
de nom, le terminal vous les proposera alors en dessous de votre ligne de
commande.

\paragraph{Le manuel} La plupart des commandes disposent d'un manuel, qui
renseigne sur les paramètres de la commande, son utilité, ou encore comment
l'utiliser. Pour ouvrir le manuel d'une commande, on tape dans le terminal
\mintinline{bash}{man 'nom de la commande'}.

\paragraph{Retrouver une commande déjà tapée précédemment} Pour retrouver une
commande déjà tapée, on peut cliquer sur la flèche du haut. Un clic remonte
d'une commande.

De ce fait, si vous souhaitez taper une commande très longue et que vous avez
déjà tapée il y a quelques temps, cliquez sur la flèche du haut autant de fois
que nécessaire pour la retrouver.

\subsubsection{Les droits SUDO}

\paragraph{} Pour exécuter certaines commandes, notamment installer des paquets
ou redémarrer la machine, le terminal a besoin des droits super-utilisateur.
Cela se fait avec la commande SUDO, qui signifie Super Utilisateur DO et qui
permet ``d'élever'' une commande avec les accès super-utilisateur. Quiconque
détient ces droits peut passer des commandes capables de modifier gravement la
machine sans restrictions, donc à utiliser avec précaution.

Pour lancer une commande administrateur système, il faut taper:

\mintinline{bash}{sudo nom_de_la_commande}.

Par exemple pour installer un programme sous Debian/Ubuntu:

\mintinline{bash}{sudo apt install nom_du_programme}.

Le terminal va alors vous demander votre mot de passe administrateur avant de
lancer la commande.

\paragraph{} Si le mot de passe ne s'affiche pas, ni même des astérisques ou
autre, c'est normal: c'est pour renforcer la sécurité car personne ne saura
la taille de ce mot de passe en regardant votre écran. Attention, vous êtes le
seul responsable de votre machine et lancer des commandes sudo sans être sûr de
leur impact pourraient complètement détruire votre machine.

\subsubsection{Les questions des commandes}

\paragraph{} Certaines commandes vous posent des questions, comme par exemple
lors de l'installation d'un paquet ces questions sont de la forme:

\begin{itemize}
	\item ``\texttt{question [Y/N]}''. Il faut alors taper Y (pour yes) ou N
		(pour no) puis entrer afin de répondre à la question.
	\item ``\texttt{question [Y/n]}'' ou ``\texttt{question [y/N]}'' C'est une
		variante dans laquelle vous pouvez toujours taper y ou n
		mais aussi directement entrée. La réponse prise en compte sera celle en
		majuscule.
\end{itemize}

\textit{Il existe un poly regroupant les principales commandes terminal
disponibles sur le GitHub du club.}
